#code to display mentor detail page
{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Mentor Detail: {{ mentor.username }}</h1>
    
    <div class="row">
        <div class="col-md-3">
            <div class="list-group">
                <a href="{% url 'mentorship:mentee_dashboard' %}" class="list-group-item list-group-item-action">Dashboard</a>
                <a href="{% url 'mentorship:search' %}" class="list-group-item list-group-item-action">Search Mentors</a>
                <a href="{% url 'mentorship:manage_requests' %}" class="list-group-item list-group-item-action">Manage Requests</a>
                <a href="{% url 'mentorship:mentor_list' %}" class="list-group-item list-group-item-action">View Mentors</a>
                <a href="{% url 'scheduling_sessions:available_slots' %}" class="list-group-item list-group-item-action">Schedule Sessions</a>
                <a href="{% url 'chat:chat_room_list' %}" class="list-group-item list-group-item-action">Chat</a>
                <a href="{% url 'progress:my_goals' %}" class="list-group-item list-group-item-action">Track Progress</a>
                <a href="{% url 'feedback:submit_feedback' %}" class="list-group-item list-group-item-action">Submit Feedback</a>
            </div>  
        </div>
        <div class="col-md-9">
            <div class="card mb-4">
                <div class="card-header">Mentor Information</div>
                <div class="card-body">
                    <p><strong>Username:</strong> {{ mentor.username }}</p>
                    <p><strong>Expertise:</strong> {{ mentor.expertise }}</p>
                    <p><strong>Bio:</strong> {{ mentor.bio }}</p>
                    <p><strong>Location:</strong> {{ mentor.location }}</p>
                </div>
            </div>
            
            <h2>Request Mentorship</h2>
            <form method="post" action="{% url 'mentorship:request' mentor.id %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-primary">Request Mentorship</button>
            </form> 
            <h2 class="mt-4">Mentorship Requests</h2>
            <ul>
            {% for req in requests %}
                <li>
                    From: {{ req.mentee.username }} | Status: {{ req.status }}
                    {% if req.status == 'pending' %}
                        <a href="{% url 'mentorship:update_status' req.id 'accept' %}">Accept</a> |
                        <a href="{% url 'mentorship:update_status' req.id 'reject' %}">Reject</a>
                    {% endif %}
                </li>
            {% endfor %}    
            </ul>
        </div>  
    </div>
</div>
{% endblock %}

{% block scripts %} 
<script>
    // Any additional JavaScript can go here
</script>
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/mentorship.css' %}">
{% endblock %}