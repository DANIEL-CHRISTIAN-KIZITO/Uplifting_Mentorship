{# mentorship/templates/mentorship/search_mentors.html #}
{% extends 'base.html' %}

{% block title %}Search Mentors{% endblock %}

{% block content %}
    <h1>Search Mentors</h1>

    <form method="GET" action="{% url 'mentorship:search_mentors' %}" class="mb-4">
        <div class="input-group">
            <input type="text" name="q" class="form-control" placeholder="Search by username or expertise" value="{{ query|default:'' }}">
            <input type="text" name="expertise" class="form-control ms-2" placeholder="Filter by expertise" value="{{ expertise_filter|default:'' }}">
            <button class="btn btn-primary ms-2" type="submit">Search</button>
        </div>
    </form>

    {% if mentors %}
        <h2>Results:</h2>
        <ul>
            {% for mentor in mentors %}
                <li>
                    <a href="{% url 'mentorship:mentor_detail' mentor.pk %}">{{ mentor.user.username }}</a>
                    - Expertise: {{ mentor.expertise }}
                    {% if mentor.user.photo %}
                        <img src="{{ mentor.user.photo.url }}" alt="{{ mentor.user.username }}" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No mentors found matching your criteria.</p>
    {% endif %}
{% endblock %}
